<h1> Calendar </h1>

<% start_date = params.fetch(:start_date, Date.today).to_date %>

<% date_range = (start_date.beginning_of_month.beginning_of_week..start_date.end_of_month.beginning_of_week).to_a %>

<h1><%= start_date.strftime("%B") %></h1>
<table>
  <thead>
    <tr>
      <th>Sunday</th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
    </tr>
  </thead>

  <tbody>
   <% date_range.each_slice(7) do |week| %>
      <tr>
        <% week.each do |day| %>
          <td>
            <%= day.day %>
          </td>
        <% end %>
      </tr>
   <% end %>

  </tbody>

</table>
